<h3 id="synopsis">Synopsis</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm prune <span class="o">[[</span>&lt;@scope&gt;/]&lt;pkg&gt;...] <span class="o">[</span><span class="nt">--production</span><span class="o">]</span> <span class="o">[</span><span class="nt">--dry-run</span><span class="o">]</span> <span class="o">[</span><span class="nt">--json</span><span class="o">]</span>
</code></pre></div></div>

<h3 id="description">Description</h3>

<p>This command removes “extraneous” packages.  If a package name is
provided, then only packages matching one of the supplied names are
removed.</p>

<p>Extraneous packages are packages that are not listed on the parent
package’s dependencies list.</p>

<p>If the <code class="language-plaintext highlighter-rouge">--production</code> flag is specified or the <code class="language-plaintext highlighter-rouge">NODE_ENV</code> environment
variable is set to <code class="language-plaintext highlighter-rouge">production</code>, this command will remove the packages
specified in your <code class="language-plaintext highlighter-rouge">devDependencies</code>. Setting <code class="language-plaintext highlighter-rouge">--no-production</code> will
negate <code class="language-plaintext highlighter-rouge">NODE_ENV</code> being set to <code class="language-plaintext highlighter-rouge">production</code>.</p>

<p>If the <code class="language-plaintext highlighter-rouge">--dry-run</code> flag is used then no changes will actually be made.</p>

<p>If the <code class="language-plaintext highlighter-rouge">--json</code> flag is used then the changes <code class="language-plaintext highlighter-rouge">npm prune</code> made (or would
have made with <code class="language-plaintext highlighter-rouge">--dry-run</code>) are printed as a JSON object.</p>

<p>In normal operation with package-locks enabled, extraneous modules are
pruned automatically when modules are installed and you’ll only need
this command with the <code class="language-plaintext highlighter-rouge">--production</code> flag.</p>

<p>If you’ve disabled package-locks then extraneous modules will not be removed
and it’s up to you to run <code class="language-plaintext highlighter-rouge">npm prune</code> from time-to-time to remove them.</p>

<h3 id="see-also">See Also</h3>

<ul>
  <li><a href="/commands/npm-uninstall">npm uninstall</a></li>
  <li><a href="/configuring-npm/folders">npm folders</a></li>
  <li><a href="/commands/npm-ls">npm ls</a></li>
</ul>
